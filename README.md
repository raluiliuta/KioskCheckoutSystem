#Kiosk Checkout System

##Running the application

The application accepts the basket file path from command line as args[0] or from the location configured in App.config.
It prioritizes the command line given path, if it exists.

If any of the required resources: regular prices list, promotion list or basket are missing, the console application will display an "OutOfOrder" error message.
It accepts a file that has no promotions defined.

Also if any exceptions occur during processing the same error is displayed.

When the processing takes place without exceptions the receipt is generated.

##Implementation
### ~ Data ~
All the data is kept in dictionaries that associate the product name with the contained information for ease of access:
* PriceCatalog associates the product with the regular price;
* PromotionCatalog associates with each product a list of promotions;
* Basket associates the product identifier with the quantity to be bought.

DigitalReceipt, DigitalReceiptItem and Promotion are used as data holders and to format the printable string.

### ~ Business Logic ~
KioskCheckout contains the Main.
KioskCheckoutService is the Service that should be called to deal with the checkout process and generation of the receipt.

ReceiptPriceCalculator contains all the logic for calculating discount prices and total prices.
DigitalReceiptFactory is the class that contains all the creating logic for the receipt.
PromotionManager allows the retrieval of applicable promotion for a certain product.

#### ~ Json format ~
Used because of the lightweight format and the ease of serialization/deserialization.

Particular structure used:
* Promotions.json has the following structure:
	PromotionCatalog { ProductIdentifier : [List of Promotion] }
	Promotion { Type, 
				Description, 
				StartDate(mm/dd/yyyy), 
				EndDate(mm/dd/yyyy), 
				Condition: {ProductIdentifier : Quantity}
				PriceDiscountInformation}
	Depending of the "Type" the PriceDiscountInformation is 
	*[FixedDiscount] newPrice for the whole quantity;
	*[PercentageDiscount] the percentage x from newPrice[Whole quantity] = x * regularPrice[Whole quantity].
		 
	For a promotion to be active, today's date must included or equal to [StartDate, EndDate].

	Condition is a collection of rules that all must be satisfied for the promotion to be applied.
	Ex: condition : {Apple : 1} means that an apple must be present in the basket for the promotion to apply.
	This would correspond to a sale. 

* RegularPriceCatalog
	PriceCatalog { ProductIdentifier : RegularPrice  }

##Assumptions
* Basket.txt and the Json files are well formatted
* Promotions.json and RegularPriceCatalog.json are generated by a control module that accepts user input and then reformats the data


##Limitations
* The product name must match exactly in the promotions file, price catalog and basket.
This is not so far fetched, as we assumed that the files are automatically generated by another module.
Also in the case of using GUID these must identically match.

##Implementation observations
* The ProductIdentifier is the product name for human readability. In a real scenario GUID should be used.
* The whole application only need the product identifier information when considering products.

